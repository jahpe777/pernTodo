{"ast":null,"code":"var _jsxFileName = \"/Users/jahpe777/Projects/perntodo-client/src/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport InputTodo from './InputTodo/InputTodo';\nimport TodoContext from './Context/TodoContext';\nimport ListTodos from './ListTodos/ListTodos';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      todos: [],\n      addNewTodo: description => {\n        fetch('http://localhost:9000/api/todos', {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          method: 'POST',\n          body: JSON.stringify({\n            description\n          })\n        }).then(res => res.json()).then(res => {\n          this.setState({\n            todos: [...this.state.todos, res]\n          });\n        }).catch(err => console.log(err));\n      },\n      updateTodo: (todoId, todoItem) => {\n        fetch(`http://localhost:9000/api/todos/${todoId}`, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          method: 'PATCH',\n          body: JSON.stringify(todoItem)\n        }).then(res => res).then(() => {\n          console.log('3', todoId, todoItem, this.state.todos);\n          let newTodos = this.state.todos.map(todo => {\n            console.log(todo.id, todoId);\n\n            if (todo.id === todoId) {\n              return todoItem;\n            } else {\n              return todo;\n            }\n          });\n          this.setState({\n            todos: newTodos\n          });\n          console.log('4', newTodos);\n        }).catch(err => console.log(err));\n      },\n      deleteTodo: todoId => {\n        fetch(`http://localhost:9000/api/todos/${todoId}`, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          method: 'DELETE',\n          body: JSON.stringify(todoId)\n        }).then(res => {\n          if (!res.ok) return res.json().then(e => Promise.reject(e));\n          return true;\n        }).then(deletedTodo => {\n          this.setState({\n            todos: this.state.todos.filter(todo => todo.id !== todoId)\n          });\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(`http://localhost:9000/api/todos`, {\n      method: 'GET',\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(res => {\n      if (!res.ok) {\n        return res.json().then(error => Promise.reject(error));\n      }\n\n      return res.json();\n    }).then(todos => {\n      this.setState({\n        todos: todos\n      });\n    }).catch(error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  render() {\n    console.log('5', this.state.todos);\n    return /*#__PURE__*/React.createElement(TodoContext.Provider, {\n      value: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputTodo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ListTodos, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jahpe777/Projects/perntodo-client/src/App.js"],"names":["React","Component","Fragment","InputTodo","TodoContext","ListTodos","App","constructor","state","todos","addNewTodo","description","fetch","headers","method","body","JSON","stringify","then","res","json","setState","catch","err","console","log","updateTodo","todoId","todoItem","newTodos","map","todo","id","deleteTodo","ok","e","Promise","reject","deletedTodo","filter","componentDidMount","error","render"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport InputTodo from './InputTodo/InputTodo';\n\nimport TodoContext from './Context/TodoContext';\n\nimport ListTodos from './ListTodos/ListTodos';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      todos: [],\n\n      addNewTodo: description => {\n        fetch('http://localhost:9000/api/todos', {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          method: 'POST',\n          body: JSON.stringify({ description })\n        })\n          .then(res => res.json())\n          .then(res => {\n            this.setState({ todos: [...this.state.todos, res] });\n          })\n          .catch(err => console.log(err));\n      },\n\n      updateTodo: (todoId, todoItem) => {\n        fetch(`http://localhost:9000/api/todos/${todoId}`, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          method: 'PATCH',\n          body: JSON.stringify(todoItem)\n        })\n          .then(res => res)\n          .then(() => {\n            console.log('3', todoId, todoItem, this.state.todos);\n            let newTodos = this.state.todos.map(todo => {\n              console.log(todo.id, todoId);\n              if (todo.id === todoId) {\n                return todoItem;\n              } else {\n                return todo;\n              }\n            });\n            this.setState({\n              todos: newTodos\n            });\n            console.log('4', newTodos);\n          })\n          .catch(err => console.log(err));\n      },\n\n      deleteTodo: todoId => {\n        fetch(`http://localhost:9000/api/todos/${todoId}`, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          method: 'DELETE',\n          body: JSON.stringify(todoId)\n        })\n          .then(res => {\n            if (!res.ok) return res.json().then(e => Promise.reject(e));\n            return true;\n          })\n          .then(deletedTodo => {\n            this.setState({\n              todos: this.state.todos.filter(todo => todo.id !== todoId)\n            });\n          });\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(`http://localhost:9000/api/todos`, {\n      method: 'GET',\n      headers: {\n        'content-type': 'application/json'\n      }\n    })\n      .then(res => {\n        if (!res.ok) {\n          return res.json().then(error => Promise.reject(error));\n        }\n        return res.json();\n      })\n      .then(todos => {\n        this.setState({ todos: todos });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n  }\n\n  render() {\n    console.log('5', this.state.todos);\n    return (\n      <TodoContext.Provider value={this.state}>\n        <Fragment>\n          <div className=\"container\">\n            <InputTodo />\n            <ListTodos />\n          </div>\n        </Fragment>\n      </TodoContext.Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}